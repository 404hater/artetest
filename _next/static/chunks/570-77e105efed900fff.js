(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{4304:function(e,i,l){"use strict";var t=l(5893);l(7294);var o=l(8798),n=l.n(o),c=l(9916),d=l(8490),a=l(527),s=l(8440);let r=e=>{var i,l,o,r,u,v,h,m,p,x;let{item:N,className:f,mode:j,modeItem:P,close:b,soldOut:g,button:I,state:k,language:S,modalType:C,onModalClose:D,setModalType:E,progress:F,setProgress:w}=e,y="".concat("https://dstrict.s3.amazonaws.com/artenft").concat((null==N?void 0:null===(i=N.product)||void 0===i?void 0:i.thumbFilePath)&&(null==N?void 0:null===(l=N.product)||void 0===l?void 0:l.thumbFileName)?null==N?void 0:null===(o=N.product)||void 0===o?void 0:o.thumbFilePath:null==N?void 0:null===(r=N.product)||void 0===r?void 0:r.previewFilePath).concat((null==N?void 0:null===(u=N.product)||void 0===u?void 0:u.thumbFilePath)&&(null==N?void 0:null===(v=N.product)||void 0===v?void 0:v.thumbFileName)?null==N?void 0:null===(h=N.product)||void 0===h?void 0:h.thumbFileName:null==N?void 0:null===(m=N.product)||void 0===m?void 0:m.previewFileName);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"collectionItem ".concat(n().collectionItem).concat(f?" ".concat(f):""),children:[(0,t.jsxs)("div",{className:"collectionItemInner",children:[(0,t.jsx)("div",{className:"imgArea",children:".mp4".indexOf(y.slice(-4))>-1?(0,t.jsx)("video",{muted:!0,autoPlay:!0,loop:!0,playsInline:!0,children:(0,t.jsx)("source",{src:y})},y):(0,t.jsx)("img",{src:y,alt:""})}),(0,t.jsx)("strong",{className:"hash",children:null==N?void 0:null===(p=N.product)||void 0===p?void 0:p.editionNumber}),(j&&g||!j)&&(0,t.jsx)("p",{className:"address",children:(0,c.Hp)(null!==(x=null==N?void 0:N.walletAddr)&&void 0!==x?x:"")}),j&&P]}),I&&(0,t.jsx)("div",{className:"btnWrap",children:I}),("processing"===k||"complete"===k)&&(0,t.jsxs)("div",{className:"itemDim",children:["processing"===k&&(0,t.jsx)("div",{className:"processing",children:d.M$.EJ.V6[S]}),"complete"===k&&(0,t.jsx)("button",{className:"btnDownload ".concat(F?"hidden":""),async onClick(){w&&w(!0);let e=await a.Z.post("/user/nft/request/".concat(null==N?void 0:N.product.id));if(200===e.status&&e.data.success){E&&E("receive"),w&&w(!1);return}E&&E("fail"),w&&w(!1)},children:d.M$.EJ.pT[S]})]}),j&&(0,t.jsx)("button",{onClick:()=>b&&b(),className:"closeLayer"})]}),("receive"===C||"fail"===C)&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s.Z,{onClose:()=>D&&D(),onClick:()=>D&&D(),language:S,result:C,isMyNFT:!0})})]})};i.Z=r},7570:function(e,i,l){"use strict";l.d(i,{Z:function(){return f}});var t=l(5893),o=l(7294),n=l(3633),c=l.n(n),d=l(7753),a=l(6670),s=l(4304);let r=e=>{let{title:i,content:l}=e,[n,c]=(0,o.useState)(!1);return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{children:(0,t.jsx)("button",{className:n?"on":"",onClick(){n?c(!1):c(!0)},children:i})}),n&&(0,t.jsx)("dd",{children:(0,t.jsx)("ul",{children:null==l?void 0:l.map(e=>(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:e.name}),e.value]},e.name))})})]})})};var u=l(1163),v=l(1664),h=l.n(v),m=l(3550),p=l(9916),x=l(5462);let N=(0,a.Pi)(e=>{var i,l,n,a,v,N,f,j,P,b,g,I,k,S,C,D,E,F,w,y,O,T,M,A;let{isKiosk:R,audio:V,notAllowed:z}=e,{chooseStore:_,layoutStore:W,commonStore:Z}=(0,d.Yh)(),B=(0,u.useRouter)(),[H,L]=(0,o.useState)(0),[q,U]=(0,o.useState)(!1),[J,Y]=(0,o.useState)(!1),[K,$]=(0,o.useState)({width:0,height:0}),[G,Q]=(0,o.useState)(!1),X=Number(null===(l=null===(i=_.ratioData)||void 0===i?void 0:i.find(e=>e.ratioTypeValue===_.ratioType))||void 0===l?void 0:l.gridWidthCount),ee=Number(null===(a=null===(n=_.ratioData)||void 0===n?void 0:n.find(e=>e.ratioTypeValue===_.ratioType))||void 0===a?void 0:a.gridHeightCount),ei=X-Number(_.sizeValue),el=ee-Number(_.sizeValue)+1,et=K.width/Number(_.pieceSize().column),eo=K.height/Number(_.pieceSize().row);(0,o.useEffect)(()=>{let e=document.querySelector(".imgFrame video");e&&(e.onloadeddata=()=>{$({width:e.clientWidth,height:e.clientHeight})})},[_.data]),(0,o.useEffect)(()=>{if(_.ratioData){let e=_.ratioData.find(e=>e.ratioTypeValue===_.ratioType);e&&L(e.gridWidthCount*e.gridHeightCount)}},[_.ratioData]);let en=e=>{let i=e?e+1:Math.min(..._.hoverPiece)+1,l=Math.ceil((i+1)/X);return l>1?i-(X-ei-1)*(l-1):i},ec=e=>{let i=e;if("1"!==_.sizeValue){var l,t;let o=Number(_.sizeValue),n=Number(null===(t=null===(l=_.ratioData)||void 0===l?void 0:l.find(e=>e.ratioTypeValue===_.ratioType))||void 0===t?void 0:t.gridWidthCount),c=[],d=i%X,a=Math.ceil((i+1)/X);d>ei&&(i-=d-ei),a>el&&(i-=(a-el)*X);for(let s=0;s<o;++s)if(c.push(i+s),s>0)for(let r=0;r<o;++r)c.push(i+n*s+r);_.hoverPiece=c}else _.hoverPiece=[i]},ed=e=>{if("1"===_.sizeValue)return e;{let i=[],l=[],t=Number(_.sizeValue);for(let o=0;o<t;o++)e<=ei+1?i.push(e+o):i.push(e+o+(Number(_.sizeValue)-1)*(e%(ei+1)==0?Math.floor(e/(ei+1))-1:Math.floor(e/(ei+1)))),i.map(e=>{for(let i=0;i<t-1;i++)l.push(e+X*(i+1))});return i.concat(l)}},ea=_.soldOutIndex&&(null===(v=_.soldOutIndex.map(e=>ed(e)))||void 0===v?void 0:v.flat()),es=_.reservedIndex&&(null===(N=_.reservedIndex.map(e=>ed(e)))||void 0===N?void 0:N.flat()),er=(e,i,l)=>{var o,n,c;return i&&l?(0,t.jsx)(t.Fragment,{children:"RESERVED"}):(0,t.jsx)(t.Fragment,{children:i?(0,t.jsx)(t.Fragment,{children:"RESERVED"}):(0,t.jsx)(t.Fragment,{children:(0,p.Hp)(null===(c=null===(o=_.data)||void 0===o?void 0:null===(n=o.piecesList)||void 0===n?void 0:n.find(i=>i.pieceNumber===e))||void 0===c?void 0:c.buyerAddr,4,4)})})},eu=[{title:"PROPERTIES",content:[{name:"PROPORTION",value:null===(f=_.onClickPieceData)||void 0===f?void 0:f.properties.ratio},{name:"SIZE OPTION",value:null===(j=_.onClickPieceData)||void 0===j?void 0:j.properties.size},{name:"DIMENSION",value:null===(P=_.onClickPieceData)||void 0===P?void 0:P.properties.dimension},{name:"FILE EXTENSION",value:null===(b=_.onClickPieceData)||void 0===b?void 0:b.properties.fileExtension}]},{title:"DETAILS",content:[{name:"CONTRACT ADDRESS",value:(0,p.Hp)(null!==(y=null===(g=_.onClickPieceData)||void 0===g?void 0:g.details.contractAddr)&&void 0!==y?y:"")},{name:"TOKEN ID",value:null===(I=_.onClickPieceData)||void 0===I?void 0:I.details.tokenId},{name:"BLOCKCHAIN",value:null===(k=_.onClickPieceData)||void 0===k?void 0:k.details.blockchain}]}],ev=(0,x.Z)();return(0,t.jsxs)("div",{className:"chooseArea ".concat(c().chooseArea),children:[(0,t.jsx)("div",{className:"chooseAreaInner",style:{width:"".concat(R?1920:K.width,"px")},children:(0,t.jsxs)("div",{className:"workPanel",children:[(0,t.jsx)("div",{className:"imgFrame",children:_.originSrc&&(0,t.jsx)("video",{playsInline:!0,muted:!0,autoPlay:!0,loop:!0,style:R?{width:"1920px"}:{width:"1280px",height:"427px"},children:(0,t.jsx)("source",{src:_.originSrc})})}),(0,t.jsx)("div",{className:"pieceWrap",children:(()=>{let e=[];for(let i=0;i<H;i++){var l,o,n,c;let d=null==ea?void 0:ea.includes(i+1),a=null==es?void 0:es.includes(i+1),s=(null===(l=_.hoverPiece)||void 0===l?void 0:l.find(e=>e===i))||(null===(o=_.hoverPiece)||void 0===o?void 0:o[0])===0&&0===i;e.push((0,t.jsx)("div",{className:"piece".concat("1"===_.sizeValue&&(a||d)?" blocked":"").concat((null===(n=_.pieceSelect.selectedIndex)||void 0===n?void 0:n.includes(i))||0===_.pieceSelect.selectedIndex[0]&&0===i?" selected":"").concat(s?" hover":""),style:{width:et,height:eo},children:"1"===_.sizeValue&&(s||(null===(c=_.pieceSelect.selectedIndex)||void 0===c?void 0:c.find(e=>e===i))||0===_.pieceSelect.selectedIndex[0]&&0===i)&&er(i+1,a,d)},"renderPieces".concat(i)))}return e})()}),"1"!==_.sizeValue&&(0,t.jsx)("div",{className:"blockDiv",children:(()=>{let e=[],i=_.reservedIndex?_.reservedIndex:[],l=_.soldOutIndex?_.soldOutIndex:[],o=null==i?void 0:i.concat(l),n=o.filter((e,i)=>o.indexOf(e)===i),c=0===_.pieceSelect.selectedIndex[0]?1:en(_.pieceSelect.selectedIndex[0]),d=n.find(e=>e===en()),a=n.find(e=>e===c);return a&&e.push(a),d&&!e.includes(d)&&e.push(d),e&&e.length>0?e.map(e=>{let o=i.includes(e),n=l.includes(e);return(0,t.jsx)("div",{style:{top:"".concat((e<=ei+1?0:e%(ei+1)==0?Math.floor(e/(ei+1))-1:Math.floor(e/(ei+1)))*eo,"px"),left:"".concat((e<=ei+1?e-1:e%(ei+1)==0?ei:e%(ei+1)-1)*et,"px"),width:et*Number(_.sizeValue),height:eo*Number(_.sizeValue)},children:er(e,o,n)},"reservedBlock".concat(e))}):""})()}),(0,t.jsx)("div",{className:"choosePieceWrap".concat(_.pieceSelect.status?" pieceSelected":"").concat(R?" kiosk":""),children:(()=>{let e=[];for(let i=0;i<H;i++){var l,o;e.push((0,t.jsx)("button",{style:{width:et,height:eo},className:"".concat((null===(l=_.pieceSelect.selectedIndex)||void 0===l?void 0:l.includes(i))||0===_.pieceSelect.selectedIndex[0]&&0===i?" selected":"").concat(_.hoverPiece.length>0&&(null===(o=_.hoverPiece)||void 0===o?void 0:o.includes(i))?" hover":""),onClick(){var e,l,t;_.pieceSelect=_.defaultPieceSelect,R?(ec(i),_.hoverPiece.length>0&&(_.pieceSelect={status:!0,selectedIndex:_.hoverPiece})):_.pieceSelect={status:!0,selectedIndex:_.hoverPiece},U(!!(null===(e=_.soldOutIndex)||void 0===e?void 0:e.find(e=>e===en()))),Y(!!(null===(l=_.reservedIndex)||void 0===l?void 0:l.find(e=>e===en()))),R&&(null==V||null===(t=V.click)||void 0===t||t.play()),_.onClickPiece(B.query.id.toString(),en()).then()},onMouseEnter(){R||ec(i)},onMouseLeave(){R||(_.hoverPiece=[])}},"renderPieceButton".concat(i)))}return e})()})]})}),_.pieceSelect.status&&!R&&(0,t.jsx)(s.Z,{language:ev,item:{product:{id:Number(B.query.id),editionName:null!==(O=null===(S=_.onClickPieceData)||void 0===S?void 0:S.editionName)&&void 0!==O?O:"",editionNumber:null!==(T=null===(C=_.onClickPieceData)||void 0===C?void 0:C.editionNumber)&&void 0!==T?T:"",thumbFilePath:"",thumbFileName:"",previewFilePath:null!==(M=null===(D=_.onClickPieceData)||void 0===D?void 0:D.previewFilePath)&&void 0!==M?M:"",previewFileName:null!==(A=null===(E=_.onClickPieceData)||void 0===E?void 0:E.previewFileName)&&void 0!==A?A:""},walletAddr:null===(F=_.onClickPieceData)||void 0===F?void 0:F.details.contractAddr},className:"inArtworks",mode:"inArtworks",soldOut:q,close(){_.pieceSelect=_.defaultPieceSelect,_.onClickPieceData=void 0},modeItem:(0,t.jsxs)("div",{className:"chooseMode",children:[q||J?(0,t.jsx)("button",{className:"blackButton disabled",disabled:!0,children:J?"RESERVED":"SOLD OUT"}):(0,t.jsx)(t.Fragment,{children:Z.activate?(0,t.jsx)(h(),{href:"/purchase/".concat(null===(w=_.onClickPieceData)||void 0===w?void 0:w.productId,"?salesType=OS"),className:"blackButton",children:"BUY NOW"}):(0,t.jsx)("button",{onClick:()=>Q(!0),className:"blackButton",children:"BUY NOW"})}),(0,t.jsx)("div",{className:"properties",children:eu.map(e=>(0,t.jsx)(r,{title:e.title,content:e.content},e.title))})]})}),G&&(0,t.jsx)(m.default,{onClose:()=>Q(!1)})]})});var f=N},8440:function(e,i,l){"use strict";var t=l(5893);l(7294);var o=l(4922),n=l(8701),c=l.n(n),d=l(8490),a=l(786);let s=e=>{let{onClose:i,onClick:l,language:n,result:s,isMyNFT:r}=e;return(0,t.jsx)(o.Z,{className:"receiveResultModal ".concat(c().receiveResultModal),title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("i",{className:"".concat("receive"===s?"":"fail")}),(0,t.jsxs)("span",{children:["REQUEST ",(0,t.jsx)("br",{})," ","receive"===s?"COMPLETED":"FAILED"]})]}),content:(0,t.jsxs)(t.Fragment,{children:[(0,a.Z)(d.mu.xz.av["".concat("receive"===s?"success":"fail"===s?"fail":"validError")].content[n],"receiveResultModal"),(0,t.jsx)("div",{className:"confirmButton",children:(0,t.jsx)("button",{onClick:l,children:"ko"===n?"확인":r?"Confirm":"Go Back To Main Page"})})]}),close:i})};i.Z=s},8798:function(e){e.exports={collectionItem:"CollectionItem_collectionItem__HPJb9"}},3633:function(e){e.exports={chooseArea:"ChooseArea_chooseArea__1SE_s",animationWorkPanel:"ChooseArea_animationWorkPanel__ZyHdc"}},8701:function(e){e.exports={receiveResultModal:"ReceiveresultModal_receiveResultModal__fqjo1"}}}]);